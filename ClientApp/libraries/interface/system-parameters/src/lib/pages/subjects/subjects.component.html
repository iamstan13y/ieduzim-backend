<div class="p-4">
  <div class="row pr-4 pl-4">
    <h2 class="col-6 text-left mb-0">
      Subjects
    </h2>
    <div class="col-6 text-right">
      <button nz-button nzType="primary" (click)="toggleDrawer(true)">Add New</button>
    </div>
  </div><br />
  <nz-table *ngIf="subjects" #dataTable [nzData]="subjects.data" [(nzPageIndex)]="index"
    (nzPageIndexChange)="getSubjects($event)" [nzFrontPagination]="false" [nzPageSize]="subjects.pageSize"
    [nzTotal]="subjects.totalItems">
    <thead>
      <tr>
        <th>Name</th>
        <th>Price per hour</th>
        <th>Status</th>
        <th style="width: 15%"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of dataTable.data">
        <td>{{data.name }}</td>
        <td>{{data.price | currency: data.currency.code }}</td>
        <td>
          <nz-switch [(ngModel)]="data.active" (ngModelChange)="changeStatus($event, data)" nz-tooltip
            [nzTooltipTitle]="data.active ? 'Deactivate Subject' : 'Activate Subject'"></nz-switch>
        </td>
        <td style="width: 15%;" class="text-right">
          <nz-button-group>
            <button nz-button nzType="primary" [nzSize]="'small'" (click)="edit(data)">
              <i nz-icon nzType="edit"></i>
            </button>
            <button nz-button nzType="danger" [nzSize]="'small'" nzGhost nz-popconfirm
              nzPopconfirmTitle="Delete {{ data.name }}" nzPopconfirmPlacement="right" nz-tooltip
              [nzTooltipTitle]="'Delete'" (nzOnConfirm)="delete(data)" (nzOnCancel)="toggleDrawer(false)">
              <i nz-icon nzType="delete"></i>
            </button>
          </nz-button-group>
        </td>
      </tr>
    </tbody>
  </nz-table>
</div>
<nz-drawer [nzClosable]="true" [nzVisible]="visible" [nzTitle]="subject ? 'Update Subject': 'Add Subject'"
  (nzOnClose)="toggleDrawer(false)" nzWidth="30%">
  <app-form *ngIf="form" [form]="form"></app-form>
</nz-drawer>
