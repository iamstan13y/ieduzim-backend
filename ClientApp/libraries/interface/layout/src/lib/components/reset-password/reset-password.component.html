<nz-drawer *ngIf="visible" [nzClosable]="true" [nzVisible]="visible" [nzPlacement]="'bottom'"
    [nzTitle]="'Change Password'" (nzOnClose)="result.emit(false)" [nzHeight]="'80%'"
    nzWidth="20">
    <div>
        <br/>
        <div class="ui-fluid">
            <div class="row mr-0 ml-0">
                <label for="cpassword" class="col-md-4 col-sm-12 pl-0"><b>Current Password</b></label>
                <div class="row col-md-8 col-sm-12 offset-md-1 p-0 m-0">
                    <nz-input-group [nzSuffix]="suffixTemplateC"class="col-md-12 col-sm-12 offset-md-1 pr-0 pl-0">
                        <input style="width: 100%" nz-input [type]="viewC ? 'text' : 'password'" #cpWord="ngModel" placeholder="Current Password" 
                             [(ngModel)]="currentPassword" />
                    </nz-input-group>
                    <ng-template #suffixTemplateC>
                        <i nz-icon [nzType]="viewC ? 'eye-invisible' : 'eye'" (click)="viewC = !viewC"></i>
                    </ng-template>
                    <span *ngIf="!cpWord.valid && cpWord.dirty" class="error">Current Password is required</span>
                </div>
            </div><br />

            <div class="row mr-0 ml-0">
                <label for="password" class="col-md-4 col-sm-12 pl-0"><b>New Password</b></label>
                <div class="row col-md-8 col-sm-12 offset-md-1 p-0 m-0">
                    <nz-input-group [nzSuffix]="suffixTemplate"class="col-md-12 col-sm-12 offset-md-1 pr-0 pl-0">
                        <input style="width: 100%" nz-input [type]="view ? 'text' : 'password'" #pWord="ngModel" placeholder="New Password" 
                             [(ngModel)]="newPassword" (keyup)="validatePassword()" />
                    </nz-input-group>
                    <ng-template #suffixTemplate>
                        <i nz-icon [nzType]="view ? 'eye-invisible' : 'eye'" (click)="view = !view"></i>
                    </ng-template>
                    <span *ngIf="!pWord.valid && pWord.dirty" class="error">New Password is required</span>
                    <span *ngIf="pService.message && newPassword" class="error">{{pService.message}}</span>
                </div>
            </div><br />

            <div class=" row mr-0 ml-0">
                <label for="confirm" class="col-md-4 col-sm-12 pl-0"><b>Confirmation</b></label>
                <div class="row col-md-8 col-sm-12 offset-md-1 p-0 m-0">
                    <nz-input-group [nzSuffix]="suffixTemplate1" class="col-md-12 col-sm-12 offset-md-1 pr-0 pl-0">
                        <input nz-input #cPass="ngModel" [type]="viewConfirmation ? 'text' : 'password'" placeholder="Confirm Password"
                            [(ngModel)]="confirmPassword" (keyup)="comparePassword()" />
                    </nz-input-group>
                    <ng-template #suffixTemplate1>
                        <i nz-icon [nzType]="viewConfirmation ? 'eye-invisible' : 'eye'" (click)="viewConfirmation = !viewConfirmation"></i>
                    </ng-template>
                    <span class="error" *ngIf="!cPass.valid && cPass.dirty">Password Confirmation is required</span>
                    <span class="error" *ngIf="confirmPassword && matchError">Passwords must match</span>
                </div>
            </div><br />
        </div>
        <div>
            <br/>
            <button type="button" [disabled]="validate()" class="btn-primary"
                (click)="change()">Change</button>
            <br />
        </div>
    </div>
</nz-drawer>